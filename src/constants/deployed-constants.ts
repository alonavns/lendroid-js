import 'isomorphic-fetch'
import { TokenAddress, TokenSymbol } from './tokens'

export interface IDeployConstantInitParams {
    walletAddress?: string
    wethAddress?: string
    positionManagerAddress?: string
    omgAddress?: string
}

/**
 * Holds details about deployed contracts such as addresses, ABIs, bytecode
 */
export class DeployedConstants {

    private WALLET_ABI: any
    private ERC20_ABI: any
    private WALLET_BYTECODE: string
    private WALLET_ADDRESS: string
    private WETH_ADDRESS: string
    private OMG_ADDRESS: string
    private POSITION_MANAGER_ABI: any
    private POSITION_MANAGER_BYTECODE: string
    private POSITION_MANAGER_ADDRESS: string

    constructor(params: IDeployConstantInitParams) {
        this.WALLET_BYTECODE = ''
        this.WALLET_ADDRESS = params.walletAddress || '0xa427a5db55b92123b669ed65b4f7bd178142cef7'
        this.OMG_ADDRESS = params.omgAddress || TokenAddress[TokenSymbol.OMG]
        this.WETH_ADDRESS = params.wethAddress || TokenAddress[TokenSymbol.ETH]
        this.POSITION_MANAGER_ADDRESS = params.positionManagerAddress || ''
    }

    public async getWalletAbi(): Promise<any> {
        if (!this.WALLET_ABI) {
            // TODO: Use fetch to read from file
            this.WALLET_ABI = await Promise.resolve(walletABI)
        }
        return this.WALLET_ABI
    }

    public async getERC20Abi(): Promise<any> {
        if (!this.ERC20_ABI) {
            this.ERC20_ABI = await Promise.resolve(ERC20ABI)
        }
        return this.ERC20_ABI
    }

    public getWethAddress(): string {
        return this.WETH_ADDRESS
    }

    public getWalletAddress(): string {
        return this.WALLET_ADDRESS
    }

    public async getWalletBytecode(): Promise<string> {
        if (!this.WALLET_BYTECODE) {
            // TODO: Use fetch to read from file
            return Promise.resolve('6060604052341561000f57600080fd5b6040516040806147a58339810160405280805190602001909190805190602001909190505033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff167fce241d7ca1f669fee44b6fc00b8eba2df3bb514eed0f6f668f8f89096e81ed9460405160405180910390a281600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505061465a8061014b6000396000f300606060405260043610610251576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806307da68f51461026157806313af403514610276578063197897fc146102af5780631f9f01ca146103095780632416f5d11461032b57806326e8eda2146103785780633c40b308146103d95780633fdd7ab51461043357806340c10f191461045c57806341204d881461049e57806347e7ef24146104eb5780634dd5294b1461053a5780635792d30a146105e25780635ac6d8ab1461062f5780636112fe2e1461069257806366b3bcb0146106cd5780636f75814014610725578063724f4fa6146107475780637372c2b5146107ef578063742fe1f81461085057806375f12b21146108aa57806378a3b823146108d75780637a9e5e4b1461092c578063843592d314610965578063885c43cd146109b257806389afcb4414610a035780638da5cb5b14610a3c57806390fde00514610a91578063968b891714610ade57806396d3a3aa14610b2b5780639dc29fac14610b785780639f4d10cd14610bba578063a2b35d9d14610bfc578063a9fba73a14610c49578063add1cbc514610c96578063b11b97f514610ceb578063b716ba6714610d38578063be9a655514610d90578063bf7e214f14610da5578063c107532914610dfa578063c408689314610e54578063c436972b14610ea1578063c6c3bbe614610ef0578063d05e07e614610f51578063d0e30db014610fa2578063d9fd46ba14610fc4578063e058a6d014611015578063f61bb78814611066578063f6b911bc146110d2575b341561025c57600080fd5b600080fd5b341561026c57600080fd5b610274611133565b005b341561028157600080fd5b6102ad600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611235565b005b34156102ba57600080fd5b6102ef600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050611317565b604051808215151515815260200191505060405180910390f35b6103116114bd565b604051808215151515815260200191505060405180910390f35b341561033657600080fd5b610362600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506115a7565b6040518082815260200191505060405180910390f35b341561038357600080fd5b6103d7600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050611649565b005b34156103e457600080fd5b610419600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050611755565b604051808215151515815260200191505060405180910390f35b341561043e57600080fd5b61044661193f565b6040518082815260200191505060405180910390f35b341561046757600080fd5b61049c600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506119a2565b005b34156104a957600080fd5b6104d5600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611a61565b6040518082815260200191505060405180910390f35b610520600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050611abb565b604051808215151515815260200191505060405180910390f35b341561054557600080fd5b6105e0600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091908035906020019091905050611ccc565b005b34156105ed57600080fd5b610619600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611de8565b6040518082815260200191505060405180910390f35b341561063a57600080fd5b610678600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091908035906020019091905050611f22565b604051808215151515815260200191505060405180910390f35b341561069d57600080fd5b6106b3600480803590602001909190505061210d565b604051808215151515815260200191505060405180910390f35b34156106d857600080fd5b610723600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612223565b005b61072d6122ef565b604051808215151515815260200191505060405180910390f35b341561075257600080fd5b6107ed600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919080359060200190919050506123a0565b005b34156107fa57600080fd5b61084e600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506126a4565b005b341561085b57600080fd5b610890600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506127e4565b604051808215151515815260200191505060405180910390f35b34156108b557600080fd5b6108bd6128f4565b604051808215151515815260200191505060405180910390f35b34156108e257600080fd5b6108ea612907565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561093757600080fd5b610963600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061292d565b005b341561097057600080fd5b61099c600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612a0d565b6040518082815260200191505060405180910390f35b34156109bd57600080fd5b6109e9600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612aaf565b604051808215151515815260200191505060405180910390f35b3415610a0e57600080fd5b610a3a600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612b50565b005b3415610a4757600080fd5b610a4f612ccb565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3415610a9c57600080fd5b610ac8600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612cf1565b6040518082815260200191505060405180910390f35b3415610ae957600080fd5b610b15600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612d9e565b6040518082815260200191505060405180910390f35b3415610b3657600080fd5b610b62600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612e03565b6040518082815260200191505060405180910390f35b3415610b8357600080fd5b610bb8600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050612e68565b005b3415610bc557600080fd5b610bfa600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050612f27565b005b3415610c0757600080fd5b610c33600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506130ca565b6040518082815260200191505060405180910390f35b3415610c5457600080fd5b610c80600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061312f565b6040518082815260200191505060405180910390f35b3415610ca157600080fd5b610ca961333e565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3415610cf657600080fd5b610d22600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050613364565b6040518082815260200191505060405180910390f35b3415610d4357600080fd5b610d8e600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050613454565b005b3415610d9b57600080fd5b610da3613520565b005b3415610db057600080fd5b610db8613623565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3415610e0557600080fd5b610e3a600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050613648565b604051808215151515815260200191505060405180910390f35b3415610e5f57600080fd5b610e8b600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050613885565b6040518082815260200191505060405180910390f35b610ed6600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050613927565b604051808215151515815260200191505060405180910390f35b3415610efb57600080fd5b610f4f600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050613c2d565b005b3415610f5c57600080fd5b610f88600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050613d21565b604051808215151515815260200191505060405180910390f35b610faa613dc2565b604051808215151515815260200191505060405180910390f35b3415610fcf57600080fd5b610ffb600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050613ecc565b604051808215151515815260200191505060405180910390f35b341561102057600080fd5b61104c600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050613fae565b604051808215151515815260200191505060405180910390f35b341561107157600080fd5b6110bc600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061404f565b6040518082815260200191505060405180910390f35b34156110dd57600080fd5b611131600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506140f2565b005b611161336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b151561116c57600080fd5b60008060043591506024359050806000191682600019163373ffffffffffffffffffffffffffffffffffffffff166000357fffffffff00000000000000000000000000000000000000000000000000000000167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19163460003660405180848152602001806020018281038252848482818152602001925080828437820191505094505050505060405180910390a460018060146101000a81548160ff0219169083151502179055505050565b611263336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b151561126e57600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fce241d7ca1f669fee44b6fc00b8eba2df3bb514eed0f6f668f8f89096e81ed9460405160405180910390a250565b6000600160149054906101000a900460ff1615151561133557600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561139157600080fd5b8161141a600d60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600e60008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054614445565b1015151561142757600080fd5b611470600e60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483614461565b600e60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001905092915050565b6000600160149054906101000a900460ff161515156114db57600080fd5b611509336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b151561151457600080fd5b61155d600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205434614461565b600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001905090565b6000600160149054906101000a900460ff161515156115c557600080fd5b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b611677336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b151561168257600080fd5b8273ffffffffffffffffffffffffffffffffffffffff1663a9059cbb83836000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b151561172d57600080fd5b6102c65a03f1151561173e57600080fd5b50505060405180519050151561175057fe5b505050565b6000600160149054906101000a900460ff1615151561177357600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156117cf57600080fd5b81600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541015151561181d57600080fd5b611866600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483614445565b600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506118f2600d60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483614461565b600d60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001905092915050565b6000600160149054906101000a900460ff1615151561195d57600080fd5b600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905090565b6119d0336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b15156119db57600080fd5b8173ffffffffffffffffffffffffffffffffffffffff1663a0712d68826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b1515611a4957600080fd5b6102c65a03f11515611a5a57600080fd5b5050505050565b6000600160149054906101000a900460ff16151515611a7f57600080fd5b6000611a8a836130ca565b1415611a995760009050611ab6565b611ab3611aa58361312f565b611aae846130ca565b61447d565b90505b919050565b600080600160149054906101000a900460ff16151515611ada57600080fd5b611b08336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b1515611b1357600080fd5b611b1d33856144b9565b8311151515611b2b57600080fd5b8390508073ffffffffffffffffffffffffffffffffffffffff166323b872dd3330866000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b1515611c0d57600080fd5b6102c65a03f11515611c1e57600080fd5b5050506040518051905015611cc05782600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555060019150611cc5565b600091505b5092915050565b81600960008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555080600860008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550505050505050565b600080600160149054906101000a900460ff16151515611e0757600080fd5b6000611e12846130ca565b1415611e2857611e218361312f565b9150611f1c565b611edb600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631029e85b6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b1515611eb957600080fd5b6102c65a03f11515611eca57600080fd5b50505060405180519050606461447d565b905080611ee784611a61565b1115611f1757611f10611ef98461312f565b611f0b611f05866130ca565b846145ba565b614445565b9150611f1c565b600091505b50919050565b6000600160149054906101000a900460ff16151515611f4057600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611f9c57600080fd5b82600d60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410151515611fea57600080fd5b612033600d60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205484614445565b600d60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506120bf600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483614461565b600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600190509392505050565b6000600160149054906101000a900460ff1615151561212b57600080fd5b600082118015612143575061213f33611de8565b8211155b151561214e57600080fd5b612197600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483614445565b600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f19350505050151561221a57600080fd5b60019050919050565b6122eb82828473ffffffffffffffffffffffffffffffffffffffff166370a08231856000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15156122cb57600080fd5b6102c65a03f115156122dc57600080fd5b505050604051805190506126a4565b5050565b6000600160149054906101000a900460ff1615151561230d57600080fd5b612356600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205434614461565b600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001905090565b80600f60008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060007f4e4547415449564500000000000000000000000000000000000000000000000060001916815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555081600f60008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060007f504f53495449564500000000000000000000000000000000000000000000000060001916815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555080600f60008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060007f504f53495449564500000000000000000000000000000000000000000000000060001916815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555081600f60008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060007f4e4547415449564500000000000000000000000000000000000000000000000060001916815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550505050505050565b6126d2336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b15156126dd57600080fd5b8273ffffffffffffffffffffffffffffffffffffffff166323b872dd8330846000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b15156127bc57600080fd5b6102c65a03f115156127cd57600080fd5b5050506040518051905015156127df57fe5b505050565b6000600160149054906101000a900460ff1615151561280257600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561285e57600080fd5b6128a7600e60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483614445565b600e60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001905092915050565b600160149054906101000a900460ff1681565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b61295b336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b151561296657600080fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f1abebea81bfa2637f28358c371278fb15ede7ea8dd28d2e03b112ff6d936ada460405160405180910390a250565b6000600160149054906101000a900460ff16151515612a2b57600080fd5b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000600160149054906101000a900460ff16151515612acd57600080fd5b612afb336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b1515612b0657600080fd5b81600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060019050919050565b612b7e336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b1515612b8957600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166342966c688273ffffffffffffffffffffffffffffffffffffffff166370a08231306000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1515612c4857600080fd5b6102c65a03f11515612c5957600080fd5b505050604051805190506040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b1515612cb457600080fd5b6102c65a03f11515612cc557600080fd5b50505050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600160149054906101000a900460ff16151515612d0f57600080fd5b612d97600d60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600e60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054614445565b9050919050565b6000600160149054906101000a900460ff16151515612dbc57600080fd5b600e60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000600160149054906101000a900460ff16151515612e2157600080fd5b600b60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b612e96336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b1515612ea157600080fd5b8173ffffffffffffffffffffffffffffffffffffffff166342966c68826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b1515612f0f57600080fd5b6102c65a03f11515612f2057600080fd5b5050505050565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548111151515612fb257600080fd5b80600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555080600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055505050565b6000600160149054906101000a900460ff161515156130e857600080fd5b600d60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000600160149054906101000a900460ff1615151561314d57600080fd5b61333761332961315c84612e03565b613324600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16632d675684876000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b151561322457600080fd5b6102c65a03f1151561323557600080fd5b50505060405180519050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638f32a16c886000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b151561330457600080fd5b6102c65a03f1151561331557600080fd5b50505060405180519050614461565b614461565b61333284612d9e565b614445565b9050919050565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600160149054906101000a900460ff1615151561338257600080fd5b61344d61343f600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166329a260b86000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b151561341657600080fd5b6102c65a03f1151561342757600080fd5b5050506040518051905061343a8561312f565b6145ba565b613448846130ca565b614445565b9050919050565b61351c82828473ffffffffffffffffffffffffffffffffffffffff166370a08231306000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15156134fc57600080fd5b6102c65a03f1151561350d57600080fd5b50505060405180519050611649565b5050565b61354e336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b151561355957600080fd5b60008060043591506024359050806000191682600019163373ffffffffffffffffffffffffffffffffffffffff166000357fffffffff00000000000000000000000000000000000000000000000000000000167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19163460003660405180848152602001806020018281038252848482818152602001925080828437820191505094505050505060405180910390a46000600160146101000a81548160ff0219169083151502179055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600080600160149054906101000a900460ff1615151561366757600080fd5b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483111515156136f257600080fd5b82600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055508390508073ffffffffffffffffffffffffffffffffffffffff166323b872dd3033866000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b151561385e57600080fd5b6102c65a03f1151561386f57600080fd5b5050506040518051905050600191505092915050565b6000600160149054906101000a900460ff161515156138a357600080fd5b600960003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b600080600160149054906101000a900460ff1615151561394657600080fd5b613974336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b151561397f57600080fd5b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548311151515613a0a57600080fd5b613a1433856144b9565b8311151515613a2257600080fd5b82600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555082600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055508390508073ffffffffffffffffffffffffffffffffffffffff1663095ea7b3600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16856000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b1515613c0657600080fd5b6102c65a03f11515613c1757600080fd5b5050506040518051905050600191505092915050565b613c5b336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b1515613c6657600080fd5b8273ffffffffffffffffffffffffffffffffffffffff166340c10f1983836040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b1515613d0857600080fd5b6102c65a03f11515613d1957600080fd5b505050505050565b6000600160149054906101000a900460ff16151515613d3f57600080fd5b613d6d336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b1515613d7857600080fd5b81600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060019050919050565b6000600160149054906101000a900460ff16151515613de057600080fd5b613e0e336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b1515613e1957600080fd5b34600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055506001905090565b6000600160149054906101000a900460ff16151515613eea57600080fd5b613f9d600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16632262697e6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b1515613f7b57600080fd5b6102c65a03f11515613f8c57600080fd5b50505060405180519050606461447d565b613fa683611a61565b119050919050565b6000600160149054906101000a900460ff16151515613fcc57600080fd5b613ffa336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b151561400557600080fd5b81600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060019050919050565b6000600160149054906101000a900460ff1615151561406d57600080fd5b600860008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b614120336000357fffffffff00000000000000000000000000000000000000000000000000000000166141e6565b151561412b57600080fd5b8273ffffffffffffffffffffffffffffffffffffffff16639dc29fac83836040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b15156141cd57600080fd5b6102c65a03f115156141de57600080fd5b505050505050565b60003073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415614225576001905061443f565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415614284576001905061443f565b600073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614156142e3576000905061443f565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663b70096138430856000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191681526020019350505050602060405180830381600087803b151561442157600080fd5b6102c65a03f1151561443257600080fd5b5050506040518051905090505b92915050565b6000828284039150811115151561445b57600080fd5b92915050565b6000828284019150811015151561447757600080fd5b92915050565b6000816144a761449585670de0b6b3a76400006145fe565b6002858115156144a157fe5b04614461565b8115156144b057fe5b04905092915050565b6000808290508073ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e85306000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050602060405180830381600087803b151561459657600080fd5b6102c65a03f115156145a757600080fd5b5050506040518051905091505092915050565b6000670de0b6b3a76400006145ec6145d285856145fe565b6002670de0b6b3a76400008115156145e657fe5b04614461565b8115156145f557fe5b04905092915050565b60008082148061461d5750828283850292508281151561461a57fe5b04145b151561462857600080fd5b929150505600a165627a7a723058206a41be72675e6fc9662b77506ae6087f331aa3f14cd39965d3896b3a33622b6d0029')
        }
        return this.WALLET_BYTECODE
    }

    public async getPositionManagerAbi(): Promise<any> {
        if (!this.POSITION_MANAGER_ABI) {
            // TODO: Use fetch to read from file
            this.POSITION_MANAGER_ABI = await Promise.resolve([])
        }
        return this.POSITION_MANAGER_ABI
    }

    public getPositionManagerAddress(): string {
        return this.POSITION_MANAGER_ADDRESS
    }

    public async getPositionManagerBytecode(): Promise<string> {
        if (!this.POSITION_MANAGER_BYTECODE) {
            // TODO: Use fetch to read from file
            return Promise.resolve('')
        }
        return this.POSITION_MANAGER_BYTECODE
    }
}

const ERC20ABI = [{
    "constant": false,
    "inputs": [{ "name": "spender", "type": "address" }, { "name": "value", "type": "uint256" }],
    "name": "approve",
    "outputs": [{ "name": "ok", "type": "bool" }],
    "payable": false,
    "stateMutability": "nonpayable",
    "type": "function"
}, {
    "constant": true,
    "inputs": [],
    "name": "totalSupply",
    "outputs": [{ "name": "supply", "type": "uint256" }],
    "payable": false,
    "stateMutability": "view",
    "type": "function"
}, {
    "constant": false,
    "inputs": [{ "name": "from", "type": "address" }, { "name": "to", "type": "address" }, { "name": "value", "type": "uint256" }],
    "name": "transferFrom",
    "outputs": [{ "name": "ok", "type": "bool" }],
    "payable": false,
    "stateMutability": "nonpayable",
    "type": "function"
}, {
    "constant": true,
    "inputs": [{ "name": "who", "type": "address" }],
    "name": "balanceOf",
    "outputs": [{ "name": "value", "type": "uint256" }],
    "payable": false,
    "stateMutability": "view",
    "type": "function"
}, {
    "constant": false,
    "inputs": [{ "name": "to", "type": "address" }, { "name": "value", "type": "uint256" }],
    "name": "transfer",
    "outputs": [{ "name": "ok", "type": "bool" }],
    "payable": false,
    "stateMutability": "nonpayable",
    "type": "function"
}, {
    "constant": true,
    "inputs": [{ "name": "owner", "type": "address" }, { "name": "spender", "type": "address" }],
    "name": "allowance",
    "outputs": [{ "name": "_allowance", "type": "uint256" }],
    "payable": false,
    "stateMutability": "view",
    "type": "function"
}, {
    "anonymous": false,
    "inputs": [{ "indexed": true, "name": "from", "type": "address" }, { "indexed": true, "name": "to", "type": "address" }, {
        "indexed": false,
        "name": "value",
        "type": "uint256"
    }],
    "name": "Transfer",
    "type": "event"
}, {
    "anonymous": false,
    "inputs": [{ "indexed": true, "name": "owner", "type": "address" }, { "indexed": true, "name": "spender", "type": "address" }, {
        "indexed": false,
        "name": "value",
        "type": "uint256"
    }],
    "name": "Approval",
    "type": "event"
}]

// tslint:disable
const walletABI = [{"constant":false,"inputs":[],"name":"stop","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"owner_","type":"address"}],"name":"setOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_borrower","type":"address"},{"name":"_positionAmount","type":"uint256"}],"name":"openPosition","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"depositLendingFunds","outputs":[{"name":"","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"_tokenAddress","type":"address"}],"name":"getCashBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"dst","type":"address"},{"name":"wad","type":"uint256"}],"name":"push","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_borrower","type":"address"},{"name":"_loanTokenAmount","type":"uint256"}],"name":"encumberCollateral","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getFundingBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"wad","type":"uint256"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"getCurrentMargin","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_tokenAddress","type":"address"},{"name":"_amount","type":"uint256"}],"name":"deposit","outputs":[{"name":"","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_lenderAddress","type":"address"},{"name":"_traderAddress","type":"address"},{"name":"_loanTokenAddress","type":"address"},{"name":"_collateralTokenAddress","type":"address"},{"name":"_lenderSwapAmount","type":"uint256"},{"name":"_loanCostAmount","type":"uint256"}],"name":"loanAvailed","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"getMaximumWithdrawableAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_borrower","type":"address"},{"name":"_loanTokenAmount","type":"uint256"},{"name":"_loanTokenAmountPaid","type":"uint256"}],"name":"unEncumberCollateral","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_amount","type":"uint256"}],"name":"withdrawCollateral","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"src","type":"address"}],"name":"pull","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"depositCollateral","outputs":[{"name":"","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_lender","type":"address"},{"name":"_trader","type":"address"},{"name":"_loanToken","type":"address"},{"name":"_collateralToken","type":"address"},{"name":"_loanTokenAmount","type":"uint256"},{"name":"_collateralTokenAmount","type":"uint256"}],"name":"updatePositionBalances","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"src","type":"address"},{"name":"wad","type":"uint256"}],"name":"pull","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_borrower","type":"address"},{"name":"_positionAmount","type":"uint256"}],"name":"closePosition","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"stopped","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"WETH_CONTRACT","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"authority_","type":"address"}],"name":"setAuthority","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_tokenAddress","type":"address"}],"name":"getWithdrawableBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"setLendroidNetworkParameters","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"getMaximumPositionOpenableAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"getTotalOpenPositionsValue","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"getMarginValue","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"wad","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_tokenAddress","type":"address"},{"name":"_amount","type":"uint256"}],"name":"unCommitFunds","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"getTotalBorrowedValue","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"getNetValue","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"TOKEN_TRANSFER_PROXY_CONTRACT","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"getMaximumBorrowableAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"dst","type":"address"}],"name":"push","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"start","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"authority","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_tokenAddress","type":"address"},{"name":"_amount","type":"uint256"}],"name":"withdrawFunds","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_tokenAddress","type":"address"}],"name":"getLockedBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_tokenAddress","type":"address"},{"name":"_amount","type":"uint256"}],"name":"commitFunds","outputs":[{"name":"","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"guy","type":"address"},{"name":"wad","type":"uint256"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"setLendroidPositionManager","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"deposit","outputs":[{"name":"","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"isMarginAccountHealthy","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_address","type":"address"}],"name":"setLendroidLoanManager","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_userAddress","type":"address"},{"name":"_tokenAddress","type":"address"}],"name":"getCashBalanceForAddress","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"},{"name":"guy","type":"address"},{"name":"wad","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_tokenTransferProxy","type":"address"},{"name":"_weth","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":false,"stateMutability":"nonpayable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"authority","type":"address"}],"name":"LogSetAuthority","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"}],"name":"LogSetOwner","type":"event"},{"anonymous":true,"inputs":[{"indexed":true,"name":"sig","type":"bytes4"},{"indexed":true,"name":"guy","type":"address"},{"indexed":true,"name":"foo","type":"bytes32"},{"indexed":true,"name":"bar","type":"bytes32"},{"indexed":false,"name":"wad","type":"uint256"},{"indexed":false,"name":"fax","type":"bytes"}],"name":"LogNote","type":"event"}]